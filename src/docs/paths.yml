paths:
  /api/products:
    get:
      tags:
        - Products
      summary: Obtener todos los productos
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: "#/definitions/Product"
    post:
      tags:
        - Products
      summary: Crear un nuevo producto
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Product"
      responses:
        201:
          description: Creado
  /api/products/{pid}:
    get:
      tags:
        - Products
      summary: Obtener un producto por ID
      parameters:
        - name: pid
          in: path
          required: true
          type: integer
      responses:
        200:
          description: OK
          schema:
            $ref: "#/definitions/Product"
    put:
      tags:
        - Products
      summary: Actualizar un producto por ID
      parameters:
        - name: pid
          in: path
          required: true
          type: integer
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Product"
      responses:
        200:
          description: OK
    delete:
      tags:
        - Products
      summary: Eliminar un producto por ID
      parameters:
        - name: pid
          in: path
          required: true
          type: integer
      responses:
        204:
          description: Sin contenido
  /api/carts/{cid}:
    get:
      tags:
        - Carts
      summary: Obtener un carrito por ID
      parameters:
        - name: cid
          in: path
          required: true
          type: string
      responses:
        200:
          description: OK
          schema:
            $ref: "#/definitions/Cart"
    post:
      tags:
        - Carts
      summary: Crear un nuevo carrito
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Cart"
      responses:
        201:
          description: Creado
    put:
      tags:
        - Carts
      summary: Reemplazar un carrito por ID
      parameters:
        - name: cid
          in: path
          required: true
          type: string
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Cart"
      responses:
        200:
          description: OK
    delete:
    tags:
      - Carts
    summary: Vaciar un carrito por ID
    parameters:
      - name: cid
        in: path
        required: true
        type: string
    responses:
      204:
        description: Sin contenido
  /api/carts/{cid}/products/{pid}:
    post:
      tags:
        - Carts
      summary: Actualizar carrito con un nuevo producto
      parameters:
        - name: cid
          in: path
          required: true
          type: string
        - name: pid
          in: path
          required: true
          type: string
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/CartProduct"
      responses:
        200:
          description: OK
    put:
      tags:
        - Carts
      summary: Actualizar la cantidad de un producto en el carrito
      parameters:
        - name: cid
          in: path
          required: true
          type: string
        - name: pid
          in: path
          required: true
          type: string
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/CartProduct"
      responses:
        200:
          description: OK
    delete:
      tags:
        - Carts
      summary: Eliminar un producto del carrito
      parameters:
        - name: cid
          in: path
          required: true
          type: string
        - name: pid
          in: path
          required: true
          type: string
      responses:
        204:
          description: Sin contenido
  /api/carts/{cid}/purchase:
    put:
      tags:
        - Carts
      summary: Generar un ticket de compra para el carrito
      parameters:
        - name: cid
          in: path
          required: true
          type: string
      responses:
        200:
          description: OK
